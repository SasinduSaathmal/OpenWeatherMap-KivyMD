# https://kivy.org/doc/stable/guide/lang.html

#: import dp kivy.metrics.dp

<LeftMostLabel@MDLabel>:
    AnchorLayout:
        anchor_x: "left"
        MDLabel:
            halign: "left"
            font_style: "H4"
            font_name: "fonts/Poppins-Light"

<RightMostLabel@MDLabel>:
    AnchorLayout:
        anchor_x: "right"
        MDLabel:
            halign: "right"
            font_style: "H4"
            font_name: "fonts/Poppins-Light"
            
<ToolTipActionButton@MDFloatingActionButton+MDTooltip>



<NoInternetInterface>:
    MDFloatLayout:
        MDAnchorLayout:
            anchor_x: "center"
            anchor_y: "center"
            MDLabel:
                text: "No Internet!"
                halign: "center"
                font_style: "H1"
                pos_hint: {"center_x": 0.5, "center_y": 0.5}



<ChangeDialog>:
    orientation: "vertical"
    spacing: "10dp"
    size_hint_y: None
    height: "120dp"

    MDTextField:
        id: city_input
        hint_text: "City"

    MDTextField:
        id: country_input
        hint_text: "Country"
        on_focus: if self.focus: app.menu.open()
        on_text: app.filterCountries()


<WeatherUI>:
    id: screen1
    orientation: "vertical"
    md_bg_color: app.theme_cls.primary_color

    MDScrollView:
        do_scroll_x: False
        do_scroll_y: True

        MDBoxLayout:
            orientation: "vertical"
            MDTopAppBar:
                title: "Weather Today"
                #right_action_items: [["theme-light-dark", lambda x: app.root.ids.progress.start()]]
                opposite_colors: True
                anchor_title: "center"
                md_bg_color: "607D8B"
            
                MDProgressBar:
                    id: progress
                    type: "indeterminate"
                    running_duration: 1
                    catching_duration: 1.5
                    size_hint_y: 0.1
                    theme_color: "Custom"
                    back_color: "607D8B"
                    color: "lightblue"

            MDFloatLayout:
                MDLabel:
                    id: country
                    text: "Country"
                    halign: "center"
                    font_style: "H4"
                    font_name: "fonts/Poppins-Bold"
                    padding: 1, 1
                    pos_hint: {"center_x": 0.5, "center_y": 0.8}
                    bold: True
                MDLabel:
                    id: city
                    text: "City"
                    halign: "center"
                    font_style: "H4"
                    font_name: "fonts/Poppins-Bold"
                    padding: 1, 1
                    pos_hint: {"center_x": 0.5, "center_y": 0.6}
                    # theme_text_color: "Custom"
                    bold: True
                    # text_color: 0, 0, 1, 1
                    

            MDFloatLayout:
                MDBoxLayout:
                    pos_hint: {"center_x": 0.5, "center_y": 0.8}
                    orientation: "vertical"
                    #anchor_x: "center"
                    halign: "center"
                    MDFloatLayout:
                        AnchorLayout:
                            padding: 20, 0
                            pos_hint: {"center_x": 0.3, "center_y": 0.5} # Desktop
                            #pos_hint: {"center_x": 0.2, "center_y": 0.5} # Android
                            anchor_y: "center"
                            AsyncImage:
                                id: image
                                anim_delay: 0
                                source: "images/weather.png"
                                allow_strech: True
                                pos_hint_y: 0.1
                                #size_hint: 2, 2

                        MDBoxLayout:
                            padding: 20, 0
                            pos_hint: {"center_x": 0.6, "center_y": 0.5} # Desktop
                            #pos_hint: {"center_x": 0.75, "center_y": 0.5} # Android
                            orientation: "vertical"
                            MDBoxLayout:
                                MDLabel:
                                    halign: "center"
                                    id: weather
                                    padding: 0, 0
                                    font_style: "H4"
                                    font_name: "fonts/Poppins-Thin"
                                    # ['H1', 'H2', 'H3', 'H4', 'H5', 'H6', 'Subtitle1', 'Subtitle2', 'Body1', 'Body2', 'Button', 'Caption', 'Overline', 'Icon']
                                    text: "Cloudy"

                            MDBoxLayout:
                                MDLabel:
                                    halign: "center"
                                    id: weather_info
                                    font_style: "H5"
                                    font_style: "H4"
                                    font_name: "fonts/Poppins-Thin"
                                    # ['H1', 'H2', 'H3', 'H4', 'H5', 'H6', 'Subtitle1', 'Subtitle2', 'Body1', 'Body2', 'Button', 'Caption', 'Overline', 'Icon']
                                    text: "Partly Cloudy"

                            MDBoxLayout:
                                MDLabel:
                                    halign: "center"
                                    id: temperature
                                    padding: 1, 1
                                    font_name: "fonts/Poppins-Medium"
                                    font_style: "H5"
                                    text: "30°C"

                            MDBoxLayout:
                                MDLabel:
                                    halign: "center"
                                    id: feels_like_temp
                                    padding: 1, 1
                                    font_name: "fonts/Poppins-Medium"
                                    font_style: "H6"
                                    text: "Feels like 31°C"
                            
            MDFloatLayout:
                AnchorLayout:
                    pos_hint: {"center_x": 0.5, "center_y": 0.5}
                    anchor_x: "center"
                    anchor_y: "bottom"
                    padding: 40, 20, 40, 30 # left, top, right, bottom
                    MDCard:
                        adaptive_size: True
                        style: "outlined" # elevated, filled, outlined
                        shadow_softness: 2
                        shadow_offset: (0, 1.5)
                        size_hint: 0.7, 1.34
                        md_bg_color: "darkgray"
                        unfocus_color: "darkgray"
                        focus_color: "gray"
                        halign: "center"
                        focus_behavior: True
                        ripple_behavior: True

                        MDBoxLayout:
                            orientation: "vertical"

                            MDBoxLayout:
                                orientation: "horizontal"
                                Image:
                                    source: "images/humidity.png"
                                LeftMostLabel:
                                    text: "Humidity"
                                RightMostLabel:
                                    id: humidity
                                    text: "65%"

                            MDBoxLayout:
                                orientation: "horizontal"
                                Image:
                                    source: "images/sunrise.png"
                                LeftMostLabel:
                                    text: "Sunrise"
                                RightMostLabel:
                                    id: sunrise
                                    text: "06:11"

                            MDBoxLayout:
                                orientation: "horizontal"
                                Image:
                                    source: "images/sunset.png"
                                LeftMostLabel:
                                    text: "Sunset"
                                RightMostLabel:
                                    id: sunset
                                    text: "18:15"

                            MDBoxLayout:
                                orientation: "horizontal"
                                Image:
                                    source: "images/wind.png"
                                LeftMostLabel:
                                    text: "Wind"
                                RightMostLabel:
                                    id: wind
                                    text: "5 m/s"

                ToolTipActionButton:
                    icon: "pencil"
                    tooltip_text: "Update the location"
                    md_bg_color: "indigo"  #['Red', 'Pink', 'Purple', 'DeepPurple', 'Indigo', 'Blue', 'LightBlue', 'Cyan', 'Teal', 'Green', 'LightGreen', 'Lime', 'Yellow', 'Amber', 'Orange', 'DeepOrange', 'Brown', 'Gray', 'BlueGray']
                    pos_hint: {"center_x": 0.9, "center_y": 0.4}
                    on_press: app.get_city()
                


